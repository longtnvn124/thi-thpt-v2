<div class="lesson-board position-relative h-100 ovic-scroll-style" [class.ictu-is-loading--circle-black]="loading">
  <ul class="lesson-board__list">
    <ng-container *ngFor="let chapter of listData">
      <li class="lesson-board__list__elm" [class.lesson--active]="selectedId === chapter.id"
          [class.lesson-board__list__elm--has-child]="chapter['child'] && chapter['child'].length"
          [attr.ordering]="chapter.ordering">
        <div class="lesson-board__lesson lesson-board__lesson--chapter">
          <span class="lesson-board__lesson__icon lesson-board__lesson__icon--chapter">
            <svg
              xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none"><path
              d="M1 7C1 4.17157 1 2.75736 1.87868 1.87868C2.75736 1 4.17157 1 7 1H11C13.8284 1 15.2426 1 16.1213 1.87868C17 2.75736 17 4.17157 17 7V13.8276C17 16.5109 17 17.8525 16.1557 18.2629C15.3114 18.6733 14.2565 17.8444 12.1465 16.1866L11.4713 15.656C10.2849 14.7239 9.69173 14.2578 9 14.2578C8.30827 14.2578 7.71509 14.7239 6.52871 15.656L5.85346 16.1866C3.74355 17.8444 2.68859 18.6733 1.84429 18.2629C1 17.8525 1 16.5109 1 13.8276V7Z"
              fill="#7E869E" fill-opacity="0.25" stroke="#979797" stroke-width="1.4"/>
            </svg>
          </span>
          <b class="lesson-board__lesson__title lesson-board__lesson__title--chapter">{{ chapter.title }}</b>
        </div>
        <ul class="lesson-board__list__child" *ngIf="chapter['children'] && chapter['children'].length">
          <ng-container *ngFor="let lesson of chapter['children']">
            <li class="lesson-board__list__child__elm" [attr.ordering]="lesson.ordering">
              <button class="lesson-board__lesson" (click)="activeLesson(lesson.id)"
                      *ngIf="!(selectedId === lesson.id); else lessonActive">
                <span class="lesson-board__lesson__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24"
                       height="24" viewBox="0 0 24 24" fill="none"><path
                    d="M2 4.5C2 4.22386 2.22386 4 2.5 4H21.5C21.7761 4 22 4.22386 22 4.5C22 4.77614 21.7761 5 21.5 5H20.1395C20.0625 5 20 5.06247 20 5.13953V16.9379C20 16.9777 19.9842 17.0158 19.9561 17.0439L17.0439 19.9561C17.0158 19.9842 16.9777 20 16.9379 20H6C4.89543 20 4 19.1046 4 18V5.13953C4 5.06247 3.93753 5 3.86047 5H2.5C2.22386 5 2 4.77614 2 4.5Z"
                    fill="#7E869E"
                    fill-opacity="0.25"></path>
                    <path
                      d="M12 15.5V10" stroke="#222222"
                      stroke-linecap="round"></path>
                    <path
                      d="M9.5 11.5L11.9063 9.57496C11.9611 9.53114 12.0389 9.53114 12.0937 9.57496L14.5 11.5"
                      stroke="#222222"
                      stroke-linecap="round"></path>
                    <path
                      d="M2.5 4.5H21.5" stroke="#222222"
                      stroke-linecap="round"></path>
                    <path
                      d="M17.0439 19.9561L19.9561 17.0439C19.9842 17.0158 20 16.9777 20 16.9379V16.15C20 16.0672 19.9328 16 19.85 16H17C16.4477 16 16 16.4477 16 17V19.85C16 19.9328 16.0672 20 16.15 20H16.9379C16.9777 20 17.0158 19.9842 17.0439 19.9561Z"
                      fill="#222222">

                    </path>
                  </svg>
                </span>
                <b class="lesson-board__lesson__title">{{ lesson.title }}</b>
              </button>
              <ng-template #lessonActive>
                <div class="lesson-board__lesson lesson--active"
                     [class.lesson--active-has-present]="lesson.type === 'LESSON'">
                  <div class="d-flex w-100">
                    <span class="lesson-board__lesson__icon">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                           viewBox="0 0 24 24" fill="none"><path
                        d="M2 4.5C2 4.22386 2.22386 4 2.5 4H21.5C21.7761 4 22 4.22386 22 4.5C22 4.77614 21.7761 5 21.5 5H20.1395C20.0625 5 20 5.06247 20 5.13953V16.9379C20 16.9777 19.9842 17.0158 19.9561 17.0439L17.0439 19.9561C17.0158 19.9842 16.9777 20 16.9379 20H6C4.89543 20 4 19.1046 4 18V5.13953C4 5.06247 3.93753 5 3.86047 5H2.5C2.22386 5 2 4.77614 2 4.5Z"
                        fill="#7E869E" fill-opacity="0.25"></path><path d="M12 15.5V10" stroke="#222222"
                                                                        stroke-linecap="round"></path><path
                        d="M9.5 11.5L11.9063 9.57496C11.9611 9.53114 12.0389 9.53114 12.0937 9.57496L14.5 11.5"
                        stroke="#222222" stroke-linecap="round"></path><path d="M2.5 4.5H21.5"
                                                                             stroke="#222222"
                                                                             stroke-linecap="round"></path><path
                        d="M17.0439 19.9561L19.9561 17.0439C19.9842 17.0158 20 16.9777 20 16.9379V16.15C20 16.0672 19.9328 16 19.85 16H17C16.4477 16 16 16.4477 16 17V19.85C16 19.9328 16.0672 20 16.15 20H16.9379C16.9777 20 17.0158 19.9842 17.0439 19.9561Z"
                        fill="#222222"></path>
                      </svg>

                    </span>
                    <b class="lesson-board__lesson__title">{{ lesson.title }}</b>
                  </div>
                  <div class="lesson-board__lesson__paths">
                    <button class="lesson-board__lesson__paths__button" *ngIf="lesson['_video_link'] !==''" pButton
                            icon="fa fa-video-camera" label="Video"
                            (click)="presentLessonPath({chuyende:lesson,type:'video'})"></button>
                    <button class="lesson-board__lesson__paths__button" *ngIf="lesson['_scorm_link']" pButton
                            icon="fa fa-book" label="Scorm"
                            (click)="presentLessonPath({chuyende:lesson,type:'scorm'})"></button>
                    <button class="lesson-board__lesson__paths__button"
                            *ngIf="lesson['_documents_link'] && lesson['_documents_link'][0]"
                            pButton icon="fa fa-leanpub" label="Tài liệu khác"
                            (click)="presentLessonPath({chuyende:lesson,type:'documents'})"></button>
                  </div>
                </div>
              </ng-template>
            </li>
          </ng-container>
        </ul>
      </li>
    </ng-container>
  </ul>
</div>

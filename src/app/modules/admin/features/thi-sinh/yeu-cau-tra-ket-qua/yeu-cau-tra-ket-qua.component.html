<div class="row">
  <div class="col-12 ovic-ui-table site-thpt" [class.ovic-is-loading]="isLoading">
    <div class="p-datatable-header" style="height:65px; border-bottom:1px solid #CCC;">
      <h3 class="tbl-title ">Danh sách phiếu yêu cầu</h3>
      <div class="search-block ui-table-globalfilter-container ">
        <div class="d-flex align-items-center">
          <div class="ovic-vertical__inputs ovic-vertical__inputs--layout-2">
            <div class="d-flex" style="gap:10px;">
              <button pRipple pButton label="Tạo phiếu" icon="pi pi-plus" iconPos="right" class="p-button-success"
                      (click)="ViewFormAdd()"></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="ovic-wrap-table-rps ovic-scroll-style" style="height:calc(100% - 65px - 60px);background: #dedede;">
      <div class="ovic-wrap-table-rps__inner">
        <p-table [(selection)]="listData" styleClass="p-datatable-gridlines" [value]="listData" [rowHover]="true"
                 [rows]="rows" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="isLoading">
          <ng-template pTemplate="header" class="d-bock">
            <tr>

              <th class="ovic-w-40px text-center ">STT</th>
              <th class="ovic-w-100px text-center ">Mã phiếu</th>
              <th class="text-center ">Tên phiếu</th>
              <th class="text-center">Thời gian tạo phiếu</th>
              <th class="text-center">Trạng thái thanh toán</th>
              <th class="text-center">Trạng thái duyệt</th>
              <th class="ovic-w-150px text-center">Thao tác</th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-item>
            <tr>
              <td class="text-center">{{ item['__indexTable'] }}</td>
              <td class="text-center">{{ item['thisinh_id'] }}</td>
              <td class="text-center">{{ item['ten_phieu'] }}</td>
              <td class="text-center">{{ item['__created_at'] }}</td>
              <td class="text-center">
                <div *ngIf="item.trangthai_thanhtoan ===1" class=""> Đã thanh toán</div>
                <div *ngIf="item.trangthai_thanhtoan !== 1" class=""> Chưa thanh toán</div>
              </td>
              <td class="text-center">
                <div *ngIf="item.accept === 0"> Đang chờ duyệt</div>
                <div *ngIf="item.accept === 0"> Đã duyệt</div>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="12">
                Không có dữ liệu thí sinh!
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <p-paginator [showCurrentPageReport]="true" [rows]="rows" [totalRecords]="recordsTotal" [pageLinkSize]="5"
                 (onPageChange)="paginate($event)"></p-paginator>
  </div>
</div>


<!-- Form tạo tài khoản -->
<ng-template #tplCreateBill let-c="close" let-d="dismiss">
  <div class="modal-header ">
    <h4 class="modal-title">Phiếu yêu cầu trả kết quả thi theo môn</h4>
    <button pButton pRipple type="button" icon="pi pi-times"
            class="p-button-rounded p-button-danger p-button-text close" (click)="btnClose()"></button>
  </div>
  <div class="modal-body ovic-modal-body" style="min-height:300px;">
    <div class="ovic-vertical__inputs">
      <div class="ovic-vertical__inputs">
        <form [formGroup]="formSave" autocomplete="off">
          <ovic-thpt-bill [formField]="f['dotdangky']" [thisinh_id]="thisinhInfo.id"></ovic-thpt-bill>
        </form>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <!--    <span class="dltk-school-name" *ngIf="isAdmin">{{schoolName}}</span>-->
    <button type="button" class="btn btn-primary" (click)="createPhieu()">
      <i class="fa fa-floppy-o" aria-hidden="true"></i>Tạo tài khoản
    </button>
    <button type="button" class="btn btn-cancel" (click)="resetForm()">
      <i class="fa fa-ban" aria-hidden="true"></i>Reset Form
    </button>
  </div>


</ng-template>
